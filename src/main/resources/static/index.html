<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Добро пожаловать!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>
</head>

<body>
<nav class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container-fluid" id="navigation-bar">
        <p class="navigation-bar navbar-brand text-white"></p>
        <form action="/logout" method="post">
            <button type="submit" class="btn btn-dark text-secondary">Logout</button>
        </form>
    </div>
</nav>
<!--<section>-->
<div class="container-fluid">
    <div class="row">
        <div class="col-2 px-0 ">
            <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action active" id="list-admin-list" data-toggle="list"
                   href="#list-admin" role="tab" aria-controls="admin">admin</a>
                <a class="list-group-item list-group-item-action" id="list-user-list" data-toggle="list"
                   href="#list-user" role="tab" aria-controls="user">user</a>

            </div>
        </div>
        <div class="col-10">
            <div class="tab-content" id="nav-tabContent2">
                <div class="tab-pane fade show active" id="list-admin" role="tabpanel"
                     aria-labelledby="list-admin-list">
                    <div class="col-12">
                        <div class="tab-pane fade show active" id="list-home" role="tabpanel"
                             aria-labelledby="list-admin-list">
                            <div class="tab-pane fade show active tab-content text-left" id="userPanel"
                                 role="tabpanel">
                                <h1 style="color: black" class="m-3">Admin panel</h1>
                                <div class="bg-light">
                                    <nav>
                                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                            <button class="nav-link active" id="nav-home-tab"
                                                    data-bs-toggle="tab" data-bs-target="#nav-home" type="button"
                                                    role="tab" aria-controls="nav-home" aria-selected="true">User
                                                table
                                            </button>
                                            <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab"
                                                    data-bs-target="#nav-profile" type="button" role="tab"
                                                    aria-controls="nav-profile" aria-selected="false">New
                                                user
                                            </button>
                                        </div>
                                    </nav>
                                    <div class="tab-content" id="nav-tabContent">
                                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel"
                                             aria-labelledby="nav-home-tab">
                                            <div class="tab-pane fade show active" id="allusers">
                                                <div class="gray border">
                                                    <h3 style="text-align: left; margin: 1%"> All users</h3>
                                                </div>
                                                <div style="margin:1% ">

                                                    <table class="table table-striped">
                                                        <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th>First Name</th>
                                                            <th>Last Name</th>
                                                            <th>Age</th>
                                                            <th>Email</th>
                                                            <th>Role</th>
                                                            <th>Edit</th>
                                                            <th>Delete</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody id="userlist">

                                                        <!-- Button edit modal -->
                                                        <div class="modal fade"
                                                             id="${'editModal'+user.id}" tabindex="-1"
                                                             aria-labelledby="exampleModalLabel"
                                                             aria-hidden="true">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="editModalLabel">Edit
                                                                            user</h5>
                                                                        <button type="button"
                                                                                class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form action="@{/edit}"
                                                                          object="${user}" method="POST">

                                                                        <div
                                                                                class="modal-body col-md text-center">

                                                                            <label
                                                                                    for="id0"><b>ID</b></label>
                                                                            <input name="id" type="text"
                                                                                   class="form-control"
                                                                                   id="id0"
                                                                                   value="${user.id}"
                                                                                   readonly="true"/>
                                                                            <br>
                                                                            <label for="name0"><b>First
                                                                                name</b></label>
                                                                            <input name="name"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="name0"
                                                                                   value="${user.name}"/>
                                                                            <br>
                                                                            <label for="surname0"><b>Last
                                                                                name</b></label>
                                                                            <input name="lastname"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="surname0"
                                                                                   value="${user.lastname}"/>
                                                                            <br>
                                                                            <label
                                                                                    for="age0"><b>Age</b></label>
                                                                            <input name="age"
                                                                                   type="number"
                                                                                   class="form-control"
                                                                                   id="age0"
                                                                                   value="${user.age}"/>
                                                                            <br>
                                                                            <label
                                                                                    for="username0"><b>E-mail</b></label>
                                                                            <input name="email"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="username0"
                                                                                   value="${user.username}"/>
                                                                            <br>
                                                                            <label
                                                                                    for="password0"><b>Password</b></label>
                                                                            <input name="password"
                                                                                   type="password"
                                                                                   class="form-control"
                                                                                   id="password0"
                                                                                   value="${user.password}"/>
                                                                            <br>
                                                                            <label><b>Role</b></label>
                                                                            <label>Admin<input
                                                                                    type="checkbox"
                                                                                    id="2" name="ADMIN"
                                                                                    value="ADMIN"></label>
                                                                            <label>User<input
                                                                                    type="checkbox"
                                                                                    id="1" name="USER"
                                                                                    value="USER"></label>
                                                                            <br><br>

                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">
                                                                                Close
                                                                            </button>
                                                                            <button type="submit"
                                                                                    class="btn btn-primary">
                                                                                Edit
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- end Button edit modal-->
                                                        <!-- Button delete modal -->
                                                        <div class="modal fade" id="${'DELETE'+user.id}"
                                                             tabindex="-1"
                                                             aria-labelledby="exampleModalLabel"
                                                             aria-hidden="true">
                                                            <div class="modal-dialog" role="document">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h5 class="modal-title"
                                                                            id="exampleModalLabel">
                                                                            Delete
                                                                            user</h5>
                                                                        <button type="button"
                                                                                class="btn-close"
                                                                                data-bs-dismiss="modal"
                                                                                aria-label="Close"></button>
                                                                    </div>
                                                                    <form
                                                                            class="modal-body col-md text-center"
                                                                            action="@{{id}(id=${user.id})}"
                                                                            method="DELETE">
                                                                        <div class="modal-body col-md">
                                                                            <label
                                                                                    for="id"><b>ID</b></label>
                                                                            <input name="id" type="text"
                                                                                   class="form-control"
                                                                                   id="id"
                                                                                   value="${user.id}"
                                                                                   disabled/>
                                                                            <br>
                                                                            <label for="name1"><b>First
                                                                                name</b></label>
                                                                            <input name="name"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="name1"
                                                                                   value="${user.name}"
                                                                                   disabled/>
                                                                            <br>
                                                                            <label for="surname1"><b>Last
                                                                                name</b></label>
                                                                            <input name="lastName"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="surname1"
                                                                                   value="${user.lastname}"
                                                                                   disabled/>
                                                                            <br>
                                                                            <label
                                                                                    for="age1"><b>Age</b></label>
                                                                            <input name="age"
                                                                                   type="number"
                                                                                   class="form-control"
                                                                                   id="age1"
                                                                                   value="${user.age}"
                                                                                   disabled/>
                                                                            <br>
                                                                            <label
                                                                                    for="username1"><b>E-mail</b></label>
                                                                            <input name="username"
                                                                                   type="text"
                                                                                   class="form-control"
                                                                                   id="username1"
                                                                                   value="${user.username}"
                                                                                   disabled/>
                                                                            <br>
                                                                            <label><b>Role</b></label>
                                                                            <label>Admin<input
                                                                                    type="checkbox"
                                                                                    id="qeqwe"
                                                                                    name="ADMIN"
                                                                                    value="ADMIN"
                                                                                    disabled
                                                                                    id="ADMIN"></label>
                                                                            <label>User<input
                                                                                    type="checkbox"
                                                                                    id="qweqwe"
                                                                                    name="USER"
                                                                                    value="USER"
                                                                                    disabled></label>
                                                                            <br><br>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button"
                                                                                    class="btn btn-secondary"
                                                                                    data-bs-dismiss="modal">
                                                                                Close
                                                                            </button>

                                                                            <button type="submit"
                                                                                    class="btn btn-danger">
                                                                                Delete
                                                                            </button>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- end Button delete modal -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="nav-profile" role="tabpanel"
                                             aria-labelledby="nav-profile-tab">
                                            <div class="col-md bg-white border">
                                                <form class="offset-md-4 col-md-4 mt-3 mb-4" align="center"
                                                       method="post">
                                                    <label for="name"><b>First name</b></label>
                                                    <input name="name" type="text" class="form-control"
                                                           id="name"/>
                                                    <br>
                                                    <label for="lastname"><b>Last name</b></label>
                                                    <input name="lastname" type="text"
                                                           class="form-control" id="lastname"/>
                                                    <br>
                                                    <label for="age"><b>Age</b></label>
                                                    <input name="age" type="number" class="form-control"
                                                           id="age"/>
                                                    <br>
                                                    <label for="email"><b>E-mail</b></label>
                                                    <input name="email" type="text" class="form-control"
                                                           id="email"/>
                                                    <br>
                                                    <label for="password"><b>Password</b></label>
                                                    <input name="password" type="password"
                                                           class="form-control" id="password"/>
                                                    <br>
                                                    <label>Admin <input type="checkbox" id="22" name="ADMIN"
                                                                        value="ADMIN">
                                                    </label>
                                                    <label>User<input type="checkbox" id="11" name="USER"
                                                                      value="USER">
                                                    </label>
                                                    <br><br>
                                                    <button type="submit" class="btn btn-success"
                                                            value="Add User">Add new User
                                                    </button>
                                                </form>
                                                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
                                                <script>
                                                    $(document).ready(function(){
                                                        // click on button submit
                                                        $("#submit").on('click', function(){
                                                            // send ajax
                                                            $.ajax({
                                                                url: '/index-page/adduser', // url where to submit the request
                                                                type : "POST", // type of action POST || GET
                                                                dataType : 'json', // data type
                                                                data : $("#form").serialize(), // post data || get data
                                                                success : function(result) {
                                                                    alert("Пользователь добавлен!")
                                                                    // you can see the result from the console
                                                                    // tab of the developer tools
                                                                },
                                                                error: function(xhr, resp, text) {
                                                                    console.log(xhr, resp, text);
                                                                }
                                                            })
                                                        });
                                                    });

                                                </script>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-user" role="tabpanel" aria-labelledby="list-user-list">
                    <div class="container-fluid">
                        <h1 style="color: black" class="m-3">User Information-page</h1>
                        <div class="tab-content" id="myTabContent">
                            <div class="card">
                                <div class="card-header">
                                    <div class="m-3" style="color: black">
                                        <h3>About user</h3>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <table class="table">
                                        <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>First Name</th>
                                            <th>Last Name</th>
                                            <th>Age</th>
                                            <th>Email</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                            <td text="${user.id}"></td>
                                            <td text="${user.name}"></td>
                                            <td text="${user.lastname}"></td>
                                            <td text="${user.age}"></td>
                                            <td text="${user.email}"></td>
                                        </tr>
                                        </block>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


</div>
<!--</section>-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<script src="script.js"></script>
</body>

</html>